var A=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var h=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)};var f=(r,e,t)=>(A(r,e,"access private method"),t);function V(){import("data:text/javascript,")}const T=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}};T();class M{constructor(e,t){this.title=e,this.html=t}}class v{constructor(){this.view=new M}setTitle(e){return this.view.title=e,this}setHtml(e){return this.view.html=e,this}build(){return this.view}}function $(r){const e=r;return e?(Object.entries(e).forEach(([t,n])=>{e[t]=new Audio(n)}),e):{}}function x(r){const e=r;e instanceof Audio&&e.pause()}function j(r){const e=r;return e?(Object.entries(e).forEach(([t])=>{x(e[t])}),{}):{}}function m(r,{delay:e=0,loop:t=!1}={}){const n=r;if(!(n instanceof Audio))return;function i(){n.pause(),n.currentTime=0,n.play()}t===!0&&(typeof n.loop=="boolean"?n.loop=!0:n.addEventListener("ended",i,!1)),setTimeout(i,e)}var u,p;class O{constructor(){h(this,u);this.time=0,this.current=0,this.timer=null}start(){this.time=new Date}stop(){clearInterval(this.timer)}getMilliseconds(){return f(this,u,p).call(this).getTime()}getSeconds(){return f(this,u,p).call(this).getTime()/1e3}getFormated(){const e=f(this,u,p).call(this),t=`${e.getHours()}`,n=`${e.getMinutes()}`,i=`${e.getSeconds()}`;let a=`${e.getMilliseconds()}`;a.length<2?a=`00${a}`:a.length<3&&(a=`0${a}`);const l=[t,n,i];return l.forEach((g,B)=>{g.length<2&&(l[B]=`0${g}`)}),[...l,a].join(":")}}u=new WeakSet,p=function(){return this.current=new Date,new Date(this.current-this.time)};const k={moves:0,matched:0,wrong:0,time:void 0,running:!1,win:!1},s={icons:["\u{1F911}","\u{1F525}","\u{1F916}","\u{1F438}","\u{1F99C}","\u{1F98B}","\u26BD","\u{1F48E}"],delay:600,maxTries:8,timer:new O,cardIdAttr:"data-card-id",music:!0},z=$({reward:new URL("./assets/game_reward.698d9f57.mp3",self.location).href,sanction:new URL("./assets/game_sanction.5d447fd3.mp3",self.location).href,over:new URL("./assets/game_over.e081139d.mp3",self.location).href,running:new URL("./assets/game_running.58bbb562.mp3",self.location).href,win:new URL("./assets/game_win.ff2e2233.mp3",self.location).href});function _(r,e){const t=e,n=r,i=new v;return i.setTitle("card"),i.setHtml(`
  <div class="card" ${s.cardIdAttr}="${n}">
      <div class="card-front"></div>
      <div class="card-back">${t}</div>
  </div>
  `),i.build()}function C(r){const e=r,t=new v;let n="";return e.forEach(i=>{n+=_(i.id,i.content).html}),t.setHtml(n).build()}function H(r){const e=r,t=[];for(;e.length>0;){const n=Math.floor(Math.random()*e.length);t.push(e[n]),e.splice(n,1)}return t}function S(r,e,t=!0){return t&&r(),setInterval(()=>{r()},e)}function D(r,e){return{id:r,content:e}}function R(r){const e=r,t=[];return e.forEach((n,i)=>{t.push(D(i,n))}),H([...t,...t])}let d={...k},c=s.music?{...z}:{},L=null;const{cardIdAttr:y}=s,o={board:document.getElementById("board"),welcom:document.getElementById("welcom"),game:document.getElementById("game"),sidebar:{start:document.getElementById("start"),stop:document.getElementById("stop"),restart:document.getElementById("restart"),music:document.getElementById("music")},scores:{moves:document.getElementById("moves"),matched:document.getElementById("matched"),remained:document.getElementById("remained"),time:document.getElementById("time")}};o.sidebar.music.classList.toggle("disabled",s.music===!1);function b(){d.running=!1,s.timer.stop(),clearInterval(L),x(c.running),o.game.classList.add("freeze"),o.sidebar.stop.classList.add("freeze","disabled")}function w(){if(d.matched===s.icons.length){b(),m(c.win),d.win=!0,d.time=s.timer.getMilliseconds();return}d.wrong===s.maxTries&&(b(),m(c.over,{delay:s.delay}),d.time=s.timer.getMilliseconds())}function U(r){const e={delay:s.delay/2},t=r.filter(n=>n.classList.contains("flipped"));if(t.length===2){if(d.moves+=1,o.scores.moves.textContent=d.moves,setTimeout(()=>{t.map(n=>n.classList.remove("flipped"))},s.delay),t[0].getAttribute(y)===t[1].getAttribute(y)){t.map(n=>n.classList.add("matched")),m(c.reward,e),d.matched+=1,o.scores.matched.textContent=d.matched,w();return}d.wrong+=1,o.scores.remained.textContent=s.maxTries-d.wrong,m(c.sanction,e),w()}}function I(){d.running=!0;const r=R(s.icons);Array.from(o.board.children).map(t=>t.classList.add("d-none")),o.game.classList.remove("d-none"),o.game.innerHTML=C(r).html,o.sidebar.start.classList.add("freeze","disabled"),o.game.classList.remove("freeze"),o.sidebar.stop.classList.remove("freeze","disabled"),o.sidebar.restart.classList.remove("freeze","disabled"),o.scores.remained.textContent=s.maxTries-d.wrong,m(c.running,{loop:!0}),s.timer.start();const e=Array.from(o.game.children);e.forEach(t=>{t.addEventListener("click",async()=>{t.classList.add("flipped"),U(e)})}),L=S(()=>{o.scores.time.textContent=Math.trunc(s.timer.getSeconds())},1e3)}function E(){o.sidebar.start.classList.remove("freeze","disabled"),o.sidebar.stop.classList.add("freeze","disabled"),o.sidebar.restart.classList.add("freeze","disabled"),Array.from(o.board.children).map(r=>r.classList.add("d-none")),Object.entries(o.scores).forEach(r=>{r[1].textContent="0"}),d={...k},o.game.innerHTML=""}function N(){b(),E(),o.welcom.classList.remove("d-none")}function Y(){b(),E(),I()}function G(){if(s.music===!0){o.sidebar.music.classList.add("disabled"),c=j(c),s.music=!1;return}o.sidebar.music.classList.remove("disabled"),c={...z},s.music=!0,d.running&&m(c.running)}o.sidebar.start.addEventListener("click",I);o.sidebar.stop.addEventListener("click",N);o.sidebar.restart.addEventListener("click",Y);o.sidebar.music.addEventListener("click",G);export{V as __vite_legacy_guard};
